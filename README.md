# BosaiLvとは

![logo](https://user-images.githubusercontent.com/100994776/195891384-ba180de7-a36a-4ff9-8e98-447f9770980d.jpg)

### 「`BosaiLv`」は、防災タスクを達成することで防災レベルを上げることができるサービスです。

<br />

# 作成背景
 - 最近、災害は増えている傾向にあり、**みなさんの防災意識は高まっているのではないか**と思います。

 - しかし、防災知識を蓄えようにも**何をどのような順番で蓄えればよいのかわからない**という声をよく聞きます。

 - そこで、「防災タスク」という形で防災に必須な知識をタスク形式で設定し、その**タスクを達成することでポイントを獲得・防災レベルがアップ**することで、みなさんが楽しく防災知識を蓄えられると考え、作成しました。

<br />

# 機能一覧

## ユーザーに関連する機能
 - [x] 新規登録
 - [x] ログイン
 - [x] ゲストログイン(**作成されたゲストユーザーを1日後に削除するRakeタスク(バッチ処理)を実装**)
 - [x] ログアウト
 - [x] 登録情報の編集(名前、画像、プロフィール、メールアドレス、パスワード、在住都道府県、在住市町村)
 - [x] ユーザーページの表示(マイ記事(ジャンルごとの執筆記事・おきにいり記事)、マイ避難所、防災タスク達成状況、防災レベル、気象情報(気象庁HP))
 - [x] ユーザーの獲得ポイントランキング

## 管理者ユーザーに関連する機能
 - [x] ユーザーへのお知らせ作成
 - [x] ユーザーへのお知らせ一覧
 - [x] ユーザーへのお知らせ削除
 - [x] 記事のジャンル作成
 - [x] 記事のジャンル一覧
 - [x] 記事のジャンル編集
 - [x] 防災タスク作成
 - [x] 防災タスク一覧
 - [x] 防災タスク編集
 - [x] 記事検索・削除
 - [x] ユーザー検索・削除

## 防災タスクに関連する機能
 - ハザードマップに関する機能
   - [x] ハザードマップ検索(住所を登録している場合、自分の在住市町村で検索できる。)
   - [x] ハザードマップ確認
 - 避難所に関する機能
   - [x] 避難所検索(住所を登録している場合、自分の在住市町村で検索できる。)
   - [x] 避難所詳細データ(名前、該当する災害、住所、避難所の種類)
   - [x] マイ避難所登録
 - 防災SNSに関する機能
   - [x] 防災SNS一覧(各Twitterリンク)
   - [x] 防災SNSフォローチェックリスト(**無駄なカラムが増えないように、[ActiveFlag](https://github.com/kenn/active_flag)(Bit array)で実装。**)
 - おうち防災に関する機能
   - [x] おうち防災チェックリスト(**無駄なカラムが増えないように、[ActiveFlag](https://github.com/kenn/active_flag)(Bit array)で実装。**)
 - 家族会議メモに関する機能
   - [x] 家族会議の内容メモ作成
   - [x] 家族会議の内容メモ編集
   - [x] 家族会議の内容メモリセット
 - 緊急連絡先に関する機能
   - [x] 緊急連絡先登録
 - [x] 防災備蓄品リスト作成
   - [x] 家族情報の作成
   - [x] 家族情報の削除
   - [x] 家族情報をもとに、必要な備蓄品リストを計算して一覧表示
   - [x] 必要な備蓄品チェックリスト(**無駄なカラムが増えないように、[ActiveFlag](https://github.com/kenn/active_flag)(Bit array)で実装。**)

## 災害時役立つ記事に関連する機能
 - [x] 災害時役立つ記事の作成(サムネイル、タイトル、ジャンル、内容)
 - [x] 災害時役立つ記事の一覧(新着順、お気に入り数順)
 - [x] 災害時役立つ記事の検索(タイトル、内容、ジャンル)
 - [x] 災害時役立つ記事の編集
 - [x] 災害時役立つ記事のシェア(Twitter)
 - [x] 災害時役立つ記事にコメント作成
 - [x] 災害時役立つ記事にコメント削除
 - [x] お気に入り
 - [x] 通知作成(コメント、お気に入りされたとき)

<br />

# インフラ構成図
![インフラ図](https://user-images.githubusercontent.com/100994776/195884582-f76e9f4d-4996-45a9-a28d-79cc6462fc5c.png)

<br />

# ER図
![ER図](https://user-images.githubusercontent.com/100994776/195884451-b953dc90-3b54-4803-aa7d-f934b426ced4.png)

<br />

# 使用技術

| フロントエンド
----|
| Nuxt.js 2.15.8(SPA)  |
| Vuetify | 
| axios(バックエンドとの非同期通信) |
| eslint/prettier(静的解析、フォーマッター) |
| Jest(自動テスト) | 

<br />

| バックエンド |
----|
| Ruby 3.0.0 |
| Rails 6.1.5 |
| RuboCop(静的解析、フォーマッター) | 
| RSpec(自動テスト) |
| nginx(Webサーバー) |
| puma(APサーバー) |
| MySQL 8.0(データベース) |

<br />

| インフラ |
----|
| Docker/docker-compose |
| AWS（ECR,ECS,Fargate,VPC,S3,Route53,ALB,RDS,ACM,SSM,CloudWatch,CodeBuild） |
| Terraform(インフラのコード管理) |
| CircleCI |

<br />

# コミットメッセージのプレフィックス

|  prefix  | 内容 |
|----------|------|
| feat     |  新機能 |
| fix      |  バグの修正 |
| docs     |  ドキュメントの修正 |
| style    |  コード内容に影響を与えない変更 <br> 例. white-space, formatting, missing semi-colons |
| refactor |  リファクタリング<br> バグの修正も機能の追加も行わないコード変更 |
| perf     |  パーフォマンスを向上させるための変更 |
| test     |  テストの追加・修正 |
